import{S as t,i as r,s as e,e as s,j as n,t as a,c as l,a as c,l as i,b as o,d as u,o as d,f as h,g as f,h as p,n as m,k as v,I as g,C as $,x as E,D as k,w as j,J as P,p as y,q as b,r as x,y as D,K as I}from"../../chunks/index-4f58c89d.js";import{r as q,u as F}from"../../chunks/urql-svelte-bf759fa7.js";function S(t=0){const r={style:"currency",currency:"GBP",minimumFractionDigits:2};t%100&&(r.minimumFractionDigits=0);return Intl.NumberFormat("en-GB",r).format(t/100)}function V(t){let r,e,v,g,$,E,k,j,P,y,b,x,D,I,q,F,V,w,A,B,G=t[0].name+"",L=S(t[0].price)+"",N=t[0].description+"";return{c(){r=s("div"),e=s("img"),$=n(),E=s("h3"),k=s("a"),j=a(G),y=n(),b=s("span"),x=a(L),D=n(),I=s("p"),q=a(N),F=n(),V=s("div"),w=s("a"),A=a("Edit Product"),this.h()},l(t){r=l(t,"DIV",{class:!0});var s=c(r);e=l(s,"IMG",{src:!0,alt:!0,class:!0}),$=i(s),E=l(s,"H3",{class:!0});var n=c(E);k=l(n,"A",{href:!0,class:!0});var a=c(k);j=o(a,G),a.forEach(u),n.forEach(u),y=i(s),b=l(s,"SPAN",{class:!0});var d=c(b);x=o(d,L),d.forEach(u),D=i(s),I=l(s,"P",{class:!0});var h=c(I);q=o(h,N),h.forEach(u),F=i(s),V=l(s,"DIV",{class:!0});var f=c(V);w=l(f,"A",{href:!0,class:!0});var p=c(w);A=o(p,"Edit Product"),p.forEach(u),f.forEach(u),s.forEach(u),this.h()},h(){var s,n,a;e.src!==(v=null==(a=null==(n=null==(s=t[0])?void 0:s.photo)?void 0:n.image)?void 0:a.publicUrlTransformed)&&d(e,"src",v),d(e,"alt",g=t[0].name),d(e,"class","svelte-ijgpki"),d(k,"href",P=`/product/${t[0].id}`),d(k,"class","svelte-ijgpki"),d(E,"class","svelte-ijgpki"),d(b,"class","pricetag svelte-ijgpki"),d(I,"class","svelte-ijgpki"),d(w,"href",B={pathname:"/update",query:{id:t[0].id}}),d(w,"class","svelte-ijgpki"),d(V,"class","buttonList svelte-ijgpki"),d(r,"class","itemstyles svelte-ijgpki")},m(t,s){h(t,r,s),f(r,e),f(r,$),f(r,E),f(E,k),f(k,j),f(r,y),f(r,b),f(b,x),f(r,D),f(r,I),f(I,q),f(r,F),f(r,V),f(V,w),f(w,A)},p(t,[r]){var s,n,a;1&r&&e.src!==(v=null==(a=null==(n=null==(s=t[0])?void 0:s.photo)?void 0:n.image)?void 0:a.publicUrlTransformed)&&d(e,"src",v),1&r&&g!==(g=t[0].name)&&d(e,"alt",g),1&r&&G!==(G=t[0].name+"")&&p(j,G),1&r&&P!==(P=`/product/${t[0].id}`)&&d(k,"href",P),1&r&&L!==(L=S(t[0].price)+"")&&p(x,L),1&r&&N!==(N=t[0].description+"")&&p(q,N),1&r&&B!==(B={pathname:"/update",query:{id:t[0].id}})&&d(w,"href",B)},i:m,o:m,d(t){t&&u(r)}}}function w(t,r,e){let{product:s}=r;return t.$$set=t=>{"product"in t&&e(0,s=t.product)},[s]}class A extends t{constructor(t){super(),r(this,t,w,V,e,{product:0})}}function B(t,r,e){const s=t.slice();return s[2]=r[e],s}function G(t){var r;let e,n,a=null==(r=t[0])?void 0:r.data.allProducts,i=[];for(let s=0;s<a.length;s+=1)i[s]=T(B(t,a,s));const o=t=>E(i[t],1,1,(()=>{i[t]=null}));return{c(){e=s("div");for(let t=0;t<i.length;t+=1)i[t].c();this.h()},l(t){e=l(t,"DIV",{class:!0});var r=c(e);for(let e=0;e<i.length;e+=1)i[e].l(r);r.forEach(u),this.h()},h(){d(e,"class","product-list svelte-9994ax")},m(t,r){h(t,e,r);for(let s=0;s<i.length;s+=1)i[s].m(e,null);n=!0},p(t,r){var s;if(1&r){let n;for(a=null==(s=t[0])?void 0:s.data.allProducts,n=0;n<a.length;n+=1){const s=B(t,a,n);i[n]?(i[n].p(s,r),j(i[n],1)):(i[n]=T(s),i[n].c(),j(i[n],1),i[n].m(e,null))}for($(),n=a.length;n<i.length;n+=1)o(n);k()}},i(t){if(!n){for(let t=0;t<a.length;t+=1)j(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let r=0;r<i.length;r+=1)E(i[r]);n=!1},d(t){t&&u(e),I(i,t)}}}function L(t){let r,e,n,i=t[0].error.message+"";return{c(){r=s("p"),e=a("Oh no... "),n=a(i)},l(t){r=l(t,"P",{});var s=c(r);e=o(s,"Oh no... "),n=o(s,i),s.forEach(u)},m(t,s){h(t,r,s),f(r,e),f(r,n)},p(t,r){1&r&&i!==(i=t[0].error.message+"")&&p(n,i)},i:m,o:m,d(t){t&&u(r)}}}function N(t){let r,e;return{c(){r=s("p"),e=a("Loading...")},l(t){r=l(t,"P",{});var s=c(r);e=o(s,"Loading..."),s.forEach(u)},m(t,s){h(t,r,s),f(r,e)},p:m,i:m,o:m,d(t){t&&u(r)}}}function T(t){let r,e;return r=new A({props:{product:t[2]}}),{c(){y(r.$$.fragment)},l(t){b(r.$$.fragment,t)},m(t,s){x(r,t,s),e=!0},p(t,e){const s={};1&e&&(s.product=t[2]),r.$set(s)},i(t){e||(j(r.$$.fragment,t),e=!0)},o(t){E(r.$$.fragment,t),e=!1},d(t){D(r,t)}}}function U(t){let r,e,s,a,l;const c=[N,L,G],o=[];function d(t,r){return t[0].fetching?0:t[0].error?1:2}return e=d(t),s=o[e]=c[e](t),{c(){r=n(),s.c(),a=v(),this.h()},l(t){g('[data-svelte="svelte-zornpn"]',document.head).forEach(u),r=i(t),s.l(t),a=v(),this.h()},h(){document.title="Sick Fits"},m(t,s){h(t,r,s),o[e].m(t,s),h(t,a,s),l=!0},p(t,[r]){let n=e;e=d(t),e===n?o[e].p(t,r):($(),E(o[n],1,1,(()=>{o[n]=null})),k(),s=o[e],s?s.p(t,r):(s=o[e]=c[e](t),s.c()),j(s,1),s.m(a.parentNode,a))},i(t){l||(j(s),l=!0)},o(t){E(s),l=!1},d(t){t&&u(r),o[e].d(t),t&&u(a)}}}function z(t,r,e){let s;const n=q("\n        query {\n          allProducts {\n            id\n            name\n            description\n            photo {\n              id\n              image {\n                publicUrlTransformed\n              }\n            }\n            price\n          }\n        }\n      ");return P(t,n,(t=>e(0,s=t))),F(n),[s,n]}class O extends t{constructor(t){super(),r(this,t,z,U,e,{})}}function C(t){let r,e,a,o;return a=new O({}),{c(){r=n(),e=s("div"),y(a.$$.fragment),this.h()},l(t){g('[data-svelte="svelte-zornpn"]',document.head).forEach(u),r=i(t),e=l(t,"DIV",{});var s=c(e);b(a.$$.fragment,s),s.forEach(u),this.h()},h(){document.title="Sick Fits"},m(t,s){h(t,r,s),h(t,e,s),x(a,e,null),o=!0},p:m,i(t){o||(j(a.$$.fragment,t),o=!0)},o(t){E(a.$$.fragment,t),o=!1},d(t){t&&u(r),t&&u(e),D(a)}}}export default class extends t{constructor(t){super(),r(this,t,null,C,e,{})}}
